
version: v1.7
modules:
  - name: backbone
    services:
      - kafka-kraft
      - kafka-connect
      - kafka-connect-restart-tasks
      - elasticsearch-data
      - elasticsearch-master
      - kibana
  - name: authn-authz
    services:
      - redis
      - ingress-nginx
      - cert-manager
      - zuul:v1.3.1-96b24b0d72-39
  - name: core
    dependencies:
      - "backbone"
      - "authn-authz"
      - "frontend"
    services:
      - egovio/egov-accesscontrol:DIGIT-2.9-LTS-237578ce80-10
      - egovio/egov-enc-service-db:DIGIT-2.9-LTS-237578ce80-21
      - egovio/egov-localization-db:DIGIT-2.9-LTS-237578ce80-10
      - egovio/egov-idgen-db:DIGIT-2.9-LTS-07f47790b8-8
      - egovio/egov-filestore-db:DIGIT-2.9-LTS-237578ce80-14
      - egovio/egov-indexer-db:2.9.1-c781a2f714-65
      - egovio/egov-notification-mail:DIGIT-2.9-LTS-07f47790b8-5
      - egovio/egov-notification-sms:DIGIT-2.9-LTS-07f47790b8-7
      - egovio/egov-otp-db:DIGIT-2.9-LTS-07f47790b8-6
      - egovio/egov-persister:DIGIT-2.9-LTS-07f47790b8-8
      ## - egovio/egov-url-shortening:v1.1.2-1715164454-3 not used in health now
      - egovio/egov-user-db:DIGIT-2.9-LTS-c33cfe45ab-19
      - egovio/user-otp:DIGIT-2.9-LTS-07f47790b8-9
      - egovio/egov-workflow-v2-db:2.9.1-80b58dc788-15
      - egovio/audit-service-db:DIGIT-2.9-LTS-07f47790b8-12
      - egovio/error-handler:master-impel-dump-5022b7acff-1
      - egovio/playground:2.0
      - egovio/mdms-v2:MDMS-v2-2.9LTS-837232ac67-71
      - egovio/boundary-service-db:v1.0.0-063968adc7-18
  - name: business
    dependencies:
      - "core"
    services:
    # replace with the master build
      - egovio/egov-hrms-db:v1.3.1-bd9a3b3582-52
  - name: frontend
    dependencies:
      - "business"
    services:
      - egovio/digit-ui:health-dashboard-digit-ui-921afc69c7-758
  - name: m_pgr             #PGR
    dependencies:
      - "core"
      - "business"
    services:
      - egovio/pgr-services-db:v1.1.7-00a7accbda-19
  - name: dss   #dss
    dependencies:
      - "frontend"
      - "core"
      - "business"
    services:
      - egovio/dashboard-ingest:v1.1.4-72f8a8f87b-10
      - egovio/dashboard-analytics:analytics-es8-auth-e53006caa0-70
      - egovio/dss-dashboard:v1.8.0-0d70d60e63-53
  - name: Other
    dependencies:
      - "core"
      - "business"
    services:
      ## - egovio/egov-user-event:v1.2.0-c1e1e8ce24-21 not used currently in health
  - name: m_health
    dependencies:
      - "backbone"
      - "authn-authz"
      - "core"
      - "business"
      - "dss"
      - "Other"
      - "frontend"
      - "m_hcmconsole"
    services:
      - egovio/facility-db:v1.1.2-00a7accbda-14
      - egovio/product-db:v1.1.0-00a7accbda-31
      - egovio/individual-db:v1.1.8-e392a94b54-65
      - egovio/transformer:HDDF-1277-149f70deb7-302
      - egovio/stock-db:v1.1.3-a0e714254c-31
      - egovio/household-db:v1.1.7-bd9a3b3582-73
      - egovio/project-db:v1.1.8-a4283645b4-49
      - egovio/referralmanagement-db:v1.0.5-6ff8133902-95
      - egovio/attendance-db:v1.1.0-55e92c713-90
      - egovio/service-request-db:v1.1.0-bd9a3b3582-59
      - egovio/muster-roll-db:v1.1.0-8e8f04913-61
      - egovio/expense-db:v1.1.0-55e92c713-118
      - egovio/health-expense-calculator-db:v1.0.0-172f7e79e-55
      - payments-ui:console-c692a067dd-57
      - pdf-service:indexer-bpa-fix-vinoth-88d0942e6a-42
      - egovio/beneficiary-idgen-db:v1.0.0-5933b8db0e-7
  - name: m_hcmconsole
    dependencies:
      - "backbone"
      - "authn-authz"
      - "core"
      - "m-health"
      - "m_hcm_microplanning"
    services:
      - egovio/project-factory-db:console-ac19a3af65-542
      - egovio/workbench-ui:console-20c70f79ed-354
  - name: m_hcm_microplanning
    dependencies:
      - "backbone"
      - "authn-authz"
      - "core"
      - "m_hcmconsole"
      - "m_health"
    services:
      - plan-service:microplanning-dev-24a32aa371-292
      - resource-generator:microplanning-dev-6e9df4dc70-134
      - census-service:microplanning-dev-aa64801625-98
      - microplan-ui:console-97866dfc66-104